@using net_il_mio_fotoalbum.Data;
@model FotoFormModel;

@if (User.IsInRole("ADMIN"))
{
    <div>
        <div class="wrapper">
            <div class="form-container">
                <form asp-controller="Foto" asp-action="Create" method="post" enctype="multipart/form-data">
                    @Html.AntiForgeryToken()

                    <div>
                        <label for="inputNome">Inserisci il nome che vuoi dare alla foto:</label>
                        <br />
                        <input asp-for="Foto.Nome" class="create-input" id="inputNome" />
                        <br />
                        <span asp-validation-for="Foto.Nome" class="text-danger"></span>
                    </div>
                    <div>
                        <label for="InputDescrizione">Scrivi una descrizione:</label>
                        <br />
                        <input asp-for="Foto.Descrizione" class="create-input" id="inputDescrizione" />
                        <br />
                        <span asp-validation-for="Foto.Descrizione" class="text-danger"></span>
                    </div>
                    <div>
                        <strong>Ingredienti: </strong>
                        @for (int i = 0; i < Model.Categorie.Count; i++)
                        {
                            <div>
                                <input type="checkbox" name="CategorieSelezionate" value="@Model.Categorie[i].Value"
                                @(Model.CategorieSelezionate.Contains(Model.Categorie[i].Value) ? "checked" : "") />
                                @Model.Categorie[i].Text
                            </div>
                        }
                    </div>

                    <div class="form-field">
                        <img src="@Model.Foto.ImgSrc">
                        <label asp-for="ImageFormFile">Image file</label>
                        <input type="file" asp-for="ImageFormFile" />
                    </div>
                    <div>
                        <strong>Visibilitá: </strong>
                        <input asp-for="Foto.Visibile" />
                    </div>
                    <div>
                        <input type="submit" class="submit-button" value="Salva">
                    </div>
                </form>
                <div class="row">
                    <div class="col">
                        <a href="@Url.Action("Index", "Foto")">BACK</a>
                    </div>
                </div>
            
            </div>

        </div>
    </div>
}
else
{
    <h1>Non hai le autorizzazioni necessarie per visitare la pagina</h1>
}